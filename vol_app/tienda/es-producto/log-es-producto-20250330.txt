2025-03-30 15:20:57.763 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-30 15:20:57.957 -05:00 [DBG] Hosting starting
2025-03-30 15:20:57.967 -05:00 [INF] User profile is available. Using '/home/container_user/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-30 15:20:57.980 -05:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2025-03-30 15:20:57.981 -05:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2025-03-30 15:20:57.983 -05:00 [INF] Creating key {833238c8-8475-4c69-a5ef-8f3c4d3a9516} with creation date 2025-03-30 20:20:57Z, activation date 2025-03-30 20:20:57Z, and expiration date 2025-06-28 20:20:57Z.
2025-03-30 15:20:57.993 -05:00 [DBG] Descriptor deserializer type for key {833238c8-8475-4c69-a5ef-8f3c4d3a9516} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2025-03-30 15:20:57.996 -05:00 [DBG] No key escrow sink found. Not writing key {833238c8-8475-4c69-a5ef-8f3c4d3a9516} to escrow.
2025-03-30 15:20:58.024 -05:00 [WRN] No XML encryptor configured. Key {833238c8-8475-4c69-a5ef-8f3c4d3a9516} may be persisted to storage in unencrypted form.
2025-03-30 15:20:58.038 -05:00 [INF] Writing data to file '/home/container_user/.aspnet/DataProtection-Keys/key-833238c8-8475-4c69-a5ef-8f3c4d3a9516.xml'.
2025-03-30 15:20:58.047 -05:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2025-03-30 15:20:58.051 -05:00 [DBG] Reading data from file '/home/container_user/.aspnet/DataProtection-Keys/key-833238c8-8475-4c69-a5ef-8f3c4d3a9516.xml'.
2025-03-30 15:20:58.056 -05:00 [DBG] Found key {833238c8-8475-4c69-a5ef-8f3c4d3a9516}.
2025-03-30 15:20:58.058 -05:00 [DBG] Considering key {833238c8-8475-4c69-a5ef-8f3c4d3a9516} with expiration date 2025-06-28 20:20:57Z as default key.
2025-03-30 15:20:58.060 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-30 15:20:58.061 -05:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-03-30 15:20:58.062 -05:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-03-30 15:20:58.064 -05:00 [DBG] Using key {833238c8-8475-4c69-a5ef-8f3c4d3a9516} as the default key.
2025-03-30 15:20:58.064 -05:00 [DBG] Key ring with default key {833238c8-8475-4c69-a5ef-8f3c4d3a9516} was loaded during application startup.
2025-03-30 15:20:58.129 -05:00 [INF] Now listening on: http://[::]:8080
2025-03-30 15:20:58.129 -05:00 [DBG] Loaded hosting startup assembly es-producto
2025-03-30 15:20:58.130 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 15:20:58.130 -05:00 [INF] Hosting environment: Development
2025-03-30 15:20:58.130 -05:00 [INF] Content root path: /app
2025-03-30 15:20:58.131 -05:00 [DBG] Hosting started
2025-03-30 15:22:09.013 -05:00 [DBG] Connection id "0HNBFP260LD4H" accepted.
2025-03-30 15:22:09.014 -05:00 [DBG] Connection id "0HNBFP260LD4H" started.
2025-03-30 15:22:09.039 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - null null
2025-03-30 15:22:09.042 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-30 15:22:09.057 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:22:09.058 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 15:22:09.067 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:22:09.068 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:22:09.069 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:22:09.070 -05:00 [DBG] The request is a preflight request.
2025-03-30 15:22:09.073 -05:00 [DBG] Connection id "0HNBFP260LD4H" completed keep alive response.
2025-03-30 15:22:09.074 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - 204 null null 36.4583ms
2025-03-30 15:22:09.123 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/v1/es/producto - application/json null
2025-03-30 15:22:09.123 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:22:09.126 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 15:22:09.127 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:22:09.131 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:22:09.131 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:22:09.131 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:22:09.132 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-30 15:22:09.238 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:22:09.240 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:22:09.243 -05:00 [DBG] Authorization was successful.
2025-03-30 15:22:09.244 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:22:09.258 -05:00 [INF] Route matched with {action = "Consultar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Consultar() on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:22:09.261 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:22:09.261 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-30 15:22:09.262 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:22:09.262 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:22:09.262 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:22:09.264 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:22:09.381 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-30 15:22:09.429 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:22:09.430 -05:00 [INF] Inicia capacidad de Eliminar - Consultar
2025-03-30 15:22:09.431 -05:00 [INF] Inicia metodo de Consultar - SERVICE
2025-03-30 15:22:09.433 -05:00 [INF] Inicia metodo de Consultar - REPOSITORY
2025-03-30 15:22:09.925 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:22:09.962 -05:00 [DBG] Compiling query expression: 
'DbSet<ProductoDTO>()
    .Where(x => x.Estado != "E")'
2025-03-30 15:22:10.330 -05:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ProductoDTO>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductoDTO.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductoDTO.Descripcion (string) Required, 1], [Property: ProductoDTO.Estado (string) Required, 2], [Property: ProductoDTO.FechaCreacion (DateTime) Required, 3], [Property: ProductoDTO.FechaModificacion (DateTime?), 4], [Property: ProductoDTO.Nombre (string) Required, 5], [Property: ProductoDTO.Sku (string) Required, 6], [Property: ProductoDTO.UsuarioCreacionId (int) Required, 7], [Property: ProductoDTO.UsuarioModificacionId (int?), 8] }
        SELECT t.id, t.descripcion, t.estado, t.fecha_creacion, t.fecha_modificacion, t.nombre, t.sku, t.usuario_creacion_id, t.usuario_modificacion_id
        FROM tbl_producto AS t
        WHERE t.estado != 'E') | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductoDTO.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductoDTO.Descripcion (string) Required, 1], [Property: ProductoDTO.Estado (string) Required, 2], [Property: ProductoDTO.FechaCreacion (DateTime) Required, 3], [Property: ProductoDTO.FechaModificacion (DateTime?), 4], [Property: ProductoDTO.Nombre (string) Required, 5], [Property: ProductoDTO.Sku (string) Required, 6], [Property: ProductoDTO.UsuarioCreacionId (int) Required, 7], [Property: ProductoDTO.UsuarioModificacionId (int?), 8] }
        SELECT t.id, t.descripcion, t.estado, t.fecha_creacion, t.fecha_modificacion, t.nombre, t.sku, t.usuario_creacion_id, t.usuario_modificacion_id
        FROM tbl_producto AS t
        WHERE t.estado != 'E', 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ProductoDTO entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ProductoDTO instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ProductoDTO);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ProductoDTO.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("es_producto.Repository.Model.ProductoDTO").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ProductoDTO)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ProductoDTO | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("es_producto.Repository.Model.ProductoDTO")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ProductoDTO | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("es_producto.Repository.Model.ProductoDTO")]: 
                        {
                            return 
                            {
                                ProductoDTO instance;
                                instance = new ProductoDTO();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Descripcion>k__BackingField = dataReader.GetString(1);
                                instance.<Estado>k__BackingField = dataReader.GetString(2);
                                instance.<FechaCreacion>k__BackingField = dataReader.GetDateTime(3);
                                instance.<FechaModificacion>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Nombre>k__BackingField = dataReader.GetString(5);
                                instance.<Sku>k__BackingField = dataReader.GetString(6);
                                instance.<UsuarioCreacionId>k__BackingField = dataReader.GetInt32(7);
                                instance.<UsuarioModificacionId>k__BackingField = dataReader.IsDBNull(8) ? default(int?) : (int?)dataReader.GetInt32(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ProductoDTO | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("es_producto.Repository.Model.ProductoDTO")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ProductoDTO)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: es_producto.Repository.Db.Context, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-30 15:22:10.355 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:22:10.370 -05:00 [DBG] Created DbConnection. (13ms).
2025-03-30 15:22:10.372 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:10.652 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:10.655 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:22:10.658 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-03-30 15:22:10.660 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-03-30 15:22:10.663 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:22:10.739 -05:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:22:10.747 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:10.751 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 8ms reading results.
2025-03-30 15:22:10.753 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:10.757 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (3ms).
2025-03-30 15:22:10.757 -05:00 [INF] Finaliza metodo de Consultar - REPOSITORY
2025-03-30 15:22:10.758 -05:00 [INF] Finaliza metodo de Consultar - SERVICE
2025-03-30 15:22:10.758 -05:00 [INF] Finaliza Capacidad de Consultar - CONTROLLER
2025-03-30 15:22:10.761 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:22:10.762 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:22:10.763 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:22:10.763 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:22:10.764 -05:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[es_producto.Controllers.Type.ProductoType, es-producto, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-30 15:22:10.854 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto) in 1589.4562ms
2025-03-30 15:22:10.855 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:22:10.856 -05:00 [DBG] Connection id "0HNBFP260LD4H" completed keep alive response.
2025-03-30 15:22:10.858 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:22:10.862 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:10.863 -05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-30 15:22:10.863 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/v1/es/producto - 200 null application/json; charset=utf-8 1740.7343ms
2025-03-30 15:24:21.121 -05:00 [DBG] Connection id "0HNBFP260LD4H" disconnecting.
2025-03-30 15:24:21.123 -05:00 [DBG] Connection id "0HNBFP260LD4H" stopped.
2025-03-30 15:24:21.128 -05:00 [DBG] Connection id "0HNBFP260LD4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-30 15:30:59.978 -05:00 [DBG] Connection id "0HNBFP260LD4I" accepted.
2025-03-30 15:30:59.979 -05:00 [DBG] Connection id "0HNBFP260LD4I" started.
2025-03-30 15:30:59.980 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - null null
2025-03-30 15:30:59.981 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:30:59.981 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 15:30:59.983 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:30:59.984 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:30:59.985 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:30:59.985 -05:00 [DBG] The request is a preflight request.
2025-03-30 15:30:59.986 -05:00 [DBG] Connection id "0HNBFP260LD4I" completed keep alive response.
2025-03-30 15:30:59.986 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - 204 null null 5.9739ms
2025-03-30 15:30:59.988 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/v1/es/producto - application/json 139
2025-03-30 15:30:59.990 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:30:59.990 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Guardar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 15:30:59.990 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Guardar (es-producto)'
2025-03-30 15:30:59.991 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:30:59.991 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:30:59.991 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:30:59.995 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:30:59.995 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:30:59.997 -05:00 [DBG] Authorization was successful.
2025-03-30 15:30:59.998 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Guardar (es-producto)'
2025-03-30 15:31:00.009 -05:00 [INF] Route matched with {action = "Guardar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Guardar(es_producto.Controllers.Type.ProductoType) on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:31:00.010 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:31:00.010 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-03-30 15:31:00.010 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:31:00.011 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:31:00.012 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:31:00.012 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:31:00.015 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:31:00.019 -05:00 [DBG] Attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType' ...
2025-03-30 15:31:00.021 -05:00 [DBG] Attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType' using the name '' in request data ...
2025-03-30 15:31:00.022 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-30 15:31:00.030 -05:00 [DBG] Connection id "0HNBFP260LD4I", Request id "0HNBFP260LD4I:00000002": started reading request body.
2025-03-30 15:31:00.031 -05:00 [DBG] Connection id "0HNBFP260LD4I", Request id "0HNBFP260LD4I:00000002": done reading request body.
2025-03-30 15:31:00.040 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'es_producto.Controllers.Type.ProductoType'
2025-03-30 15:31:00.041 -05:00 [DBG] Done attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:31:00.041 -05:00 [DBG] Done attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:31:00.042 -05:00 [DBG] Attempting to validate the bound parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType' ...
2025-03-30 15:31:00.047 -05:00 [DBG] Done attempting to validate the bound parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:31:00.049 -05:00 [INF] Inicia capacidad de Guardar - CONTROLLER
2025-03-30 15:31:00.050 -05:00 [INF] Inicia metodo de Guardar - SERVICE
2025-03-30 15:31:00.051 -05:00 [INF] Inicia metodo de ValidarExistencia sku - REPOSITORY
2025-03-30 15:31:00.124 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:31:00.129 -05:00 [DBG] Compiling query expression: 
'DbSet<ProductoDTO>()
    .Any(item => item.Estado != "E" && item.Sku == __sku_0)'
2025-03-30 15:31:00.138 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM tbl_producto AS t
                WHERE (t.estado != 'E') && (t.sku == @__sku_0))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM tbl_producto AS t
                WHERE (t.estado != 'E') && (t.sku == @__sku_0)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: es_producto.Repository.Db.Context, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-30 15:31:00.213 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:31:00.213 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:31:00.214 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.310 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.310 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:31:00.311 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:00.314 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-30 15:31:00.316 -05:00 [DBG] Executing DbCommand [Parameters=[@__sku_0='?' (Size = 12) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [tbl_producto] AS [t]
        WHERE [t].[estado] <> 'E' AND [t].[sku] = @__sku_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 15:31:00.332 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[@__sku_0='?' (Size = 12) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [tbl_producto] AS [t]
        WHERE [t].[estado] <> 'E' AND [t].[sku] = @__sku_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 15:31:00.336 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.336 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 4ms reading results.
2025-03-30 15:31:00.337 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.337 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:31:00.338 -05:00 [INF] Finaliza metodo de ValidarExistencia sku - REPOSITORY
2025-03-30 15:31:00.340 -05:00 [INF] Inicia metodo de Guardar - REPOSITORY
2025-03-30 15:31:00.354 -05:00 [DBG] 'Context' generated a temporary value for the property 'ProductoDTO.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:31:00.425 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:31:00.427 -05:00 [DBG] SaveChanges starting for 'Context'.
2025-03-30 15:31:00.429 -05:00 [DBG] DetectChanges starting for 'Context'.
2025-03-30 15:31:00.439 -05:00 [DBG] DetectChanges completed for 'Context'.
2025-03-30 15:31:00.525 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.526 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.527 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:31:00.528 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:00.528 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:00.529 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255) (DbType = AnsiString), @p1='?' (Size = 1) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Size = 12) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [tbl_producto] ([descripcion], [estado], [fecha_creacion], [fecha_modificacion], [nombre], [sku], [usuario_creacion_id], [usuario_modificacion_id])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-30 15:31:00.541 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 255) (DbType = AnsiString), @p1='?' (Size = 1) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Size = 12) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [tbl_producto] ([descripcion], [estado], [fecha_creacion], [fecha_modificacion], [nombre], [sku], [usuario_creacion_id], [usuario_modificacion_id])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-30 15:31:00.548 -05:00 [DBG] The foreign key property 'ProductoDTO.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-30 15:31:00.551 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.551 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 9ms reading results.
2025-03-30 15:31:00.552 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.552 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:31:00.558 -05:00 [DBG] An entity of type 'ProductoDTO' tracked by 'Context' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:31:00.601 -05:00 [DBG] SaveChanges completed for 'Context' with 1 entities written to the database.
2025-03-30 15:31:00.602 -05:00 [INF] Finaliza metodo de Guardar - REPOSITORY
2025-03-30 15:31:00.602 -05:00 [INF] Finaliza metodo de Guardar - SERVICE
2025-03-30 15:31:00.603 -05:00 [INF] Finaliza Capacidad de Guardar - CONTROLLER
2025-03-30 15:31:00.603 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:31:00.604 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:31:00.604 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:31:00.604 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:31:00.604 -05:00 [INF] Executing ObjectResult, writing value of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:31:00.608 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Guardar (es-producto) in 596.22ms
2025-03-30 15:31:00.608 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Guardar (es-producto)'
2025-03-30 15:31:00.609 -05:00 [DBG] Connection id "0HNBFP260LD4I" completed keep alive response.
2025-03-30 15:31:00.609 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:31:00.610 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.610 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:31:00.610 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/v1/es/producto - 201 null application/json; charset=utf-8 621.905ms
2025-03-30 15:31:00.694 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/v1/es/producto - application/json null
2025-03-30 15:31:00.695 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:31:00.695 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 15:31:00.695 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:31:00.696 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:31:00.697 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:31:00.697 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:31:00.699 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:31:00.699 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:31:00.701 -05:00 [DBG] Authorization was successful.
2025-03-30 15:31:00.701 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:31:00.701 -05:00 [INF] Route matched with {action = "Consultar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Consultar() on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:31:00.702 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:31:00.702 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-30 15:31:00.702 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:31:00.703 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:31:00.703 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:31:00.703 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:31:00.706 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:31:00.706 -05:00 [INF] Inicia capacidad de Eliminar - Consultar
2025-03-30 15:31:00.706 -05:00 [INF] Inicia metodo de Consultar - SERVICE
2025-03-30 15:31:00.707 -05:00 [INF] Inicia metodo de Consultar - REPOSITORY
2025-03-30 15:31:00.713 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:31:00.716 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:31:00.716 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:31:00.716 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.717 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.717 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:31:00.718 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:00.718 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:00.718 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:31:00.725 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:31:00.728 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:31:00.729 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.729 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 3ms reading results.
2025-03-30 15:31:00.730 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.730 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:31:00.730 -05:00 [INF] Finaliza metodo de Consultar - REPOSITORY
2025-03-30 15:31:00.730 -05:00 [INF] Finaliza metodo de Consultar - SERVICE
2025-03-30 15:31:00.731 -05:00 [INF] Finaliza Capacidad de Consultar - CONTROLLER
2025-03-30 15:31:00.731 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:31:00.731 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:31:00.731 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:31:00.732 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:31:00.732 -05:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[es_producto.Controllers.Type.ProductoType, es-producto, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-30 15:31:00.732 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto) in 29.3273ms
2025-03-30 15:31:00.733 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:31:00.733 -05:00 [DBG] Connection id "0HNBFP260LD4I" completed keep alive response.
2025-03-30 15:31:00.733 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:31:00.734 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:00.734 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:31:00.734 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/v1/es/producto - 200 null application/json; charset=utf-8 39.8862ms
2025-03-30 15:31:10.017 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - null null
2025-03-30 15:31:10.018 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:31:10.018 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 15:31:10.019 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:31:10.019 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:31:10.019 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:31:10.019 -05:00 [DBG] The request is a preflight request.
2025-03-30 15:31:10.020 -05:00 [DBG] Connection id "0HNBFP260LD4I" completed keep alive response.
2025-03-30 15:31:10.020 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - 204 null null 2.5983ms
2025-03-30 15:31:10.022 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5001/v1/es/producto - application/json 145
2025-03-30 15:31:10.022 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:31:10.022 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 15:31:10.022 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto)'
2025-03-30 15:31:10.023 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:31:10.023 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:31:10.023 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:31:10.024 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:31:10.024 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:31:10.025 -05:00 [DBG] Authorization was successful.
2025-03-30 15:31:10.025 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto)'
2025-03-30 15:31:10.028 -05:00 [INF] Route matched with {action = "Actualizar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Actualizar(es_producto.Controllers.Type.ProductoType) on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:31:10.028 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:31:10.028 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-03-30 15:31:10.028 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:31:10.029 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:31:10.029 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:31:10.029 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:31:10.030 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:31:10.030 -05:00 [DBG] Attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType' ...
2025-03-30 15:31:10.031 -05:00 [DBG] Attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType' using the name '' in request data ...
2025-03-30 15:31:10.031 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-30 15:31:10.032 -05:00 [DBG] Connection id "0HNBFP260LD4I", Request id "0HNBFP260LD4I:00000005": started reading request body.
2025-03-30 15:31:10.032 -05:00 [DBG] Connection id "0HNBFP260LD4I", Request id "0HNBFP260LD4I:00000005": done reading request body.
2025-03-30 15:31:10.033 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'es_producto.Controllers.Type.ProductoType'
2025-03-30 15:31:10.033 -05:00 [DBG] Done attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:31:10.034 -05:00 [DBG] Done attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:31:10.034 -05:00 [DBG] Attempting to validate the bound parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType' ...
2025-03-30 15:31:10.034 -05:00 [DBG] Done attempting to validate the bound parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:31:10.035 -05:00 [INF] Inicia capacidad de Actualizar - CONTROLLER
2025-03-30 15:31:10.036 -05:00 [INF] Inicia metodo de Actualizar - SERVICE
2025-03-30 15:31:10.037 -05:00 [INF] Inicia metodo de ValidarExistencia - REPOSITORY
2025-03-30 15:31:10.038 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:31:10.038 -05:00 [DBG] Compiling query expression: 
'DbSet<ProductoDTO>()
    .Any(item => item.Id == __id_0)'
2025-03-30 15:31:10.040 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM tbl_producto AS t
                WHERE t.id == @__id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM tbl_producto AS t
                WHERE t.id == @__id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: es_producto.Repository.Db.Context, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-30 15:31:10.041 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:31:10.042 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:31:10.042 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.042 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.043 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:31:10.043 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:10.043 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:10.043 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [tbl_producto] AS [t]
        WHERE [t].[id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 15:31:10.051 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [tbl_producto] AS [t]
        WHERE [t].[id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 15:31:10.051 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.051 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 0ms reading results.
2025-03-30 15:31:10.052 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.052 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:31:10.053 -05:00 [INF] Finaliza metodo de ValidarExistencia - REPOSITORY
2025-03-30 15:31:10.054 -05:00 [INF] Inicia metodo de Actualizar - REPOSITORY
2025-03-30 15:31:10.056 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:31:10.056 -05:00 [DBG] SaveChanges starting for 'Context'.
2025-03-30 15:31:10.056 -05:00 [DBG] DetectChanges starting for 'Context'.
2025-03-30 15:31:10.057 -05:00 [DBG] DetectChanges completed for 'Context'.
2025-03-30 15:31:10.059 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.060 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.060 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:31:10.061 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:10.061 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:10.061 -05:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 255) (DbType = AnsiString), @p1='?' (Size = 1) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Size = 12) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [tbl_producto] SET [descripcion] = @p0, [estado] = @p1, [fecha_creacion] = @p2, [fecha_modificacion] = @p3, [nombre] = @p4, [sku] = @p5, [usuario_creacion_id] = @p6, [usuario_modificacion_id] = @p7
OUTPUT 1
WHERE [id] = @p8;
2025-03-30 15:31:10.067 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 255) (DbType = AnsiString), @p1='?' (Size = 1) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Size = 12) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [tbl_producto] SET [descripcion] = @p0, [estado] = @p1, [fecha_creacion] = @p2, [fecha_modificacion] = @p3, [nombre] = @p4, [sku] = @p5, [usuario_creacion_id] = @p6, [usuario_modificacion_id] = @p7
OUTPUT 1
WHERE [id] = @p8;
2025-03-30 15:31:10.069 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.069 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 1ms reading results.
2025-03-30 15:31:10.069 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.070 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:31:10.070 -05:00 [DBG] An entity of type 'ProductoDTO' tracked by 'Context' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:31:10.070 -05:00 [DBG] SaveChanges completed for 'Context' with 1 entities written to the database.
2025-03-30 15:31:10.071 -05:00 [INF] Finaliza metodo de Actualizar - REPOSITORY
2025-03-30 15:31:10.072 -05:00 [INF] Finaliza metodo de Actualizar - SERVICE
2025-03-30 15:31:10.072 -05:00 [INF] Finaliza Capacidad de Actualizar - CONTROLLER
2025-03-30 15:31:10.073 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:31:10.073 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:31:10.073 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:31:10.073 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:31:10.074 -05:00 [INF] Executing ObjectResult, writing value of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:31:10.074 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto) in 44.7185ms
2025-03-30 15:31:10.074 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto)'
2025-03-30 15:31:10.074 -05:00 [DBG] Connection id "0HNBFP260LD4I" completed keep alive response.
2025-03-30 15:31:10.075 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:31:10.075 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.075 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:31:10.076 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5001/v1/es/producto - 200 null application/json; charset=utf-8 54.0039ms
2025-03-30 15:31:10.158 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/v1/es/producto - application/json null
2025-03-30 15:31:10.158 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:31:10.159 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 15:31:10.159 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:31:10.159 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:31:10.160 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:31:10.160 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:31:10.161 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:31:10.161 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:31:10.161 -05:00 [DBG] Authorization was successful.
2025-03-30 15:31:10.162 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:31:10.162 -05:00 [INF] Route matched with {action = "Consultar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Consultar() on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:31:10.163 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:31:10.163 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-30 15:31:10.163 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:31:10.163 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:31:10.164 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:31:10.164 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:31:10.165 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:31:10.165 -05:00 [INF] Inicia capacidad de Eliminar - Consultar
2025-03-30 15:31:10.165 -05:00 [INF] Inicia metodo de Consultar - SERVICE
2025-03-30 15:31:10.165 -05:00 [INF] Inicia metodo de Consultar - REPOSITORY
2025-03-30 15:31:10.166 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:31:10.167 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:31:10.167 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:31:10.167 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.168 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.168 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:31:10.168 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:10.168 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:31:10.169 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:31:10.170 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:31:10.171 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:31:10.171 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.171 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 0ms reading results.
2025-03-30 15:31:10.172 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.172 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:31:10.172 -05:00 [INF] Finaliza metodo de Consultar - REPOSITORY
2025-03-30 15:31:10.172 -05:00 [INF] Finaliza metodo de Consultar - SERVICE
2025-03-30 15:31:10.173 -05:00 [INF] Finaliza Capacidad de Consultar - CONTROLLER
2025-03-30 15:31:10.173 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:31:10.173 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:31:10.173 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:31:10.174 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:31:10.174 -05:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[es_producto.Controllers.Type.ProductoType, es-producto, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-30 15:31:10.174 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto) in 10.1444ms
2025-03-30 15:31:10.174 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:31:10.175 -05:00 [DBG] Connection id "0HNBFP260LD4I" completed keep alive response.
2025-03-30 15:31:10.175 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:31:10.175 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:31:10.175 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:31:10.175 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/v1/es/producto - 200 null application/json; charset=utf-8 17.7646ms
2025-03-30 15:33:21.191 -05:00 [DBG] Connection id "0HNBFP260LD4I" disconnecting.
2025-03-30 15:33:21.192 -05:00 [DBG] Connection id "0HNBFP260LD4I" stopped.
2025-03-30 15:33:21.192 -05:00 [DBG] Connection id "0HNBFP260LD4I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-30 15:40:49.623 -05:00 [DBG] Connection id "0HNBFP260LD4J" accepted.
2025-03-30 15:40:49.624 -05:00 [DBG] Connection id "0HNBFP260LD4J" started.
2025-03-30 15:40:49.625 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - null null
2025-03-30 15:40:49.626 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:40:49.626 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 15:40:49.626 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:40:49.627 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:40:49.627 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:40:49.627 -05:00 [DBG] The request is a preflight request.
2025-03-30 15:40:49.628 -05:00 [DBG] Connection id "0HNBFP260LD4J" completed keep alive response.
2025-03-30 15:40:49.628 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - 204 null null 2.8283ms
2025-03-30 15:40:49.629 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/v1/es/producto - application/json null
2025-03-30 15:40:49.630 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:40:49.630 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 15:40:49.630 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:40:49.631 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:40:49.631 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:40:49.631 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:40:49.632 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:40:49.633 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:40:49.633 -05:00 [DBG] Authorization was successful.
2025-03-30 15:40:49.634 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:40:49.634 -05:00 [INF] Route matched with {action = "Consultar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Consultar() on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:40:49.634 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:40:49.635 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-30 15:40:49.635 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:40:49.635 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:40:49.636 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:40:49.636 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:40:49.637 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:40:49.637 -05:00 [INF] Inicia capacidad de Eliminar - Consultar
2025-03-30 15:40:49.637 -05:00 [INF] Inicia metodo de Consultar - SERVICE
2025-03-30 15:40:49.637 -05:00 [INF] Inicia metodo de Consultar - REPOSITORY
2025-03-30 15:40:49.639 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:40:49.641 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:40:49.641 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:40:49.642 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.675 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.676 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:40:49.676 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:40:49.676 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:40:49.677 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:40:49.678 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:40:49.679 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:40:49.679 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.680 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 1ms reading results.
2025-03-30 15:40:49.680 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.680 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:40:49.680 -05:00 [INF] Finaliza metodo de Consultar - REPOSITORY
2025-03-30 15:40:49.681 -05:00 [INF] Finaliza metodo de Consultar - SERVICE
2025-03-30 15:40:49.681 -05:00 [INF] Finaliza Capacidad de Consultar - CONTROLLER
2025-03-30 15:40:49.681 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:40:49.682 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:40:49.682 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:40:49.682 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:40:49.682 -05:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[es_producto.Controllers.Type.ProductoType, es-producto, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-30 15:40:49.683 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto) in 46.981ms
2025-03-30 15:40:49.683 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:40:49.683 -05:00 [DBG] Connection id "0HNBFP260LD4J" completed keep alive response.
2025-03-30 15:40:49.684 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:40:49.684 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.684 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:40:49.685 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/v1/es/producto - 200 null application/json; charset=utf-8 55.3933ms
2025-03-30 15:43:01.262 -05:00 [DBG] Connection id "0HNBFP260LD4J" disconnecting.
2025-03-30 15:43:01.263 -05:00 [DBG] Connection id "0HNBFP260LD4J" stopped.
2025-03-30 15:43:01.264 -05:00 [DBG] Connection id "0HNBFP260LD4J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-30 15:44:44.344 -05:00 [DBG] Connection id "0HNBFP260LD4K" accepted.
2025-03-30 15:44:44.344 -05:00 [DBG] Connection id "0HNBFP260LD4K" started.
2025-03-30 15:44:44.345 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - null null
2025-03-30 15:44:44.346 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:44:44.346 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 15:44:44.346 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:44:44.347 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:44:44.347 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:44:44.348 -05:00 [DBG] The request is a preflight request.
2025-03-30 15:44:44.348 -05:00 [DBG] Connection id "0HNBFP260LD4K" completed keep alive response.
2025-03-30 15:44:44.348 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - 204 null null 3.1732ms
2025-03-30 15:44:44.350 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5001/v1/es/producto - application/json 145
2025-03-30 15:44:44.350 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:44:44.351 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 15:44:44.351 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto)'
2025-03-30 15:44:44.351 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:44:44.352 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:44:44.352 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:44:44.353 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:44:44.353 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:44:44.354 -05:00 [DBG] Authorization was successful.
2025-03-30 15:44:44.354 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto)'
2025-03-30 15:44:44.355 -05:00 [INF] Route matched with {action = "Actualizar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Actualizar(es_producto.Controllers.Type.ProductoType) on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:44:44.355 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:44:44.355 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-03-30 15:44:44.356 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:44:44.356 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:44:44.356 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:44:44.357 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:44:44.357 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:44:44.358 -05:00 [DBG] Attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType' ...
2025-03-30 15:44:44.358 -05:00 [DBG] Attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType' using the name '' in request data ...
2025-03-30 15:44:44.359 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-30 15:44:44.359 -05:00 [DBG] Connection id "0HNBFP260LD4K", Request id "0HNBFP260LD4K:00000002": started reading request body.
2025-03-30 15:44:44.359 -05:00 [DBG] Connection id "0HNBFP260LD4K", Request id "0HNBFP260LD4K:00000002": done reading request body.
2025-03-30 15:44:44.360 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'es_producto.Controllers.Type.ProductoType'
2025-03-30 15:44:44.360 -05:00 [DBG] Done attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:44:44.361 -05:00 [DBG] Done attempting to bind parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:44:44.361 -05:00 [DBG] Attempting to validate the bound parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType' ...
2025-03-30 15:44:44.361 -05:00 [DBG] Done attempting to validate the bound parameter 'productoType' of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:44:44.362 -05:00 [INF] Inicia capacidad de Actualizar - CONTROLLER
2025-03-30 15:44:44.362 -05:00 [INF] Inicia metodo de Actualizar - SERVICE
2025-03-30 15:44:44.363 -05:00 [INF] Inicia metodo de ValidarExistencia - REPOSITORY
2025-03-30 15:44:44.364 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:44:44.365 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:44:44.365 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:44:44.366 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.366 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.367 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:44:44.367 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:44.367 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:44.368 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [tbl_producto] AS [t]
        WHERE [t].[id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 15:44:44.370 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [tbl_producto] AS [t]
        WHERE [t].[id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-30 15:44:44.370 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.370 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 0ms reading results.
2025-03-30 15:44:44.371 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.371 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:44:44.372 -05:00 [INF] Finaliza metodo de ValidarExistencia - REPOSITORY
2025-03-30 15:44:44.372 -05:00 [INF] Inicia metodo de Actualizar - REPOSITORY
2025-03-30 15:44:44.373 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:44:44.373 -05:00 [DBG] SaveChanges starting for 'Context'.
2025-03-30 15:44:44.373 -05:00 [DBG] DetectChanges starting for 'Context'.
2025-03-30 15:44:44.374 -05:00 [DBG] DetectChanges completed for 'Context'.
2025-03-30 15:44:44.375 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.376 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.376 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:44:44.376 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:44.377 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:44.377 -05:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 255) (DbType = AnsiString), @p1='?' (Size = 1) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Size = 12) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [tbl_producto] SET [descripcion] = @p0, [estado] = @p1, [fecha_creacion] = @p2, [fecha_modificacion] = @p3, [nombre] = @p4, [sku] = @p5, [usuario_creacion_id] = @p6, [usuario_modificacion_id] = @p7
OUTPUT 1
WHERE [id] = @p8;
2025-03-30 15:44:44.383 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 255) (DbType = AnsiString), @p1='?' (Size = 1) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Size = 12) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [tbl_producto] SET [descripcion] = @p0, [estado] = @p1, [fecha_creacion] = @p2, [fecha_modificacion] = @p3, [nombre] = @p4, [sku] = @p5, [usuario_creacion_id] = @p6, [usuario_modificacion_id] = @p7
OUTPUT 1
WHERE [id] = @p8;
2025-03-30 15:44:44.383 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.384 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 0ms reading results.
2025-03-30 15:44:44.384 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.384 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:44:44.385 -05:00 [DBG] An entity of type 'ProductoDTO' tracked by 'Context' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:44:44.385 -05:00 [DBG] SaveChanges completed for 'Context' with 1 entities written to the database.
2025-03-30 15:44:44.385 -05:00 [INF] Finaliza metodo de Actualizar - REPOSITORY
2025-03-30 15:44:44.385 -05:00 [INF] Finaliza metodo de Actualizar - SERVICE
2025-03-30 15:44:44.386 -05:00 [INF] Finaliza Capacidad de Actualizar - CONTROLLER
2025-03-30 15:44:44.386 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:44:44.386 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:44:44.387 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:44:44.387 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:44:44.388 -05:00 [INF] Executing ObjectResult, writing value of type 'es_producto.Controllers.Type.ProductoType'.
2025-03-30 15:44:44.388 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto) in 31.5765ms
2025-03-30 15:44:44.388 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Actualizar (es-producto)'
2025-03-30 15:44:44.389 -05:00 [DBG] Connection id "0HNBFP260LD4K" completed keep alive response.
2025-03-30 15:44:44.389 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:44:44.389 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.390 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:44:44.390 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5001/v1/es/producto - 200 null application/json; charset=utf-8 40.0299ms
2025-03-30 15:44:44.479 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/v1/es/producto - application/json null
2025-03-30 15:44:44.479 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:44:44.479 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 15:44:44.480 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:44:44.480 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:44:44.481 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:44:44.481 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:44:44.481 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:44:44.482 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:44:44.482 -05:00 [DBG] Authorization was successful.
2025-03-30 15:44:44.483 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:44:44.483 -05:00 [INF] Route matched with {action = "Consultar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Consultar() on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:44:44.484 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:44:44.484 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-30 15:44:44.484 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:44:44.485 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:44:44.485 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:44:44.486 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:44:44.486 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:44:44.487 -05:00 [INF] Inicia capacidad de Eliminar - Consultar
2025-03-30 15:44:44.487 -05:00 [INF] Inicia metodo de Consultar - SERVICE
2025-03-30 15:44:44.487 -05:00 [INF] Inicia metodo de Consultar - REPOSITORY
2025-03-30 15:44:44.488 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:44:44.489 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:44:44.489 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:44:44.489 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.490 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.490 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:44:44.491 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:44.491 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:44.492 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:44:44.494 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:44:44.494 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:44:44.495 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.495 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 0ms reading results.
2025-03-30 15:44:44.495 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.495 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:44:44.496 -05:00 [INF] Finaliza metodo de Consultar - REPOSITORY
2025-03-30 15:44:44.496 -05:00 [INF] Finaliza metodo de Consultar - SERVICE
2025-03-30 15:44:44.496 -05:00 [INF] Finaliza Capacidad de Consultar - CONTROLLER
2025-03-30 15:44:44.497 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:44:44.497 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:44:44.497 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:44:44.498 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:44:44.498 -05:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[es_producto.Controllers.Type.ProductoType, es-producto, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-30 15:44:44.499 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto) in 12.9032ms
2025-03-30 15:44:44.499 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:44:44.499 -05:00 [DBG] Connection id "0HNBFP260LD4K" completed keep alive response.
2025-03-30 15:44:44.499 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:44:44.500 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:44.500 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:44:44.500 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/v1/es/producto - 200 null application/json; charset=utf-8 21.7012ms
2025-03-30 15:44:52.175 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto/1 - null null
2025-03-30 15:44:52.176 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto/1'
2025-03-30 15:44:52.177 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 15:44:52.177 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:44:52.178 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:44:52.178 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:44:52.179 -05:00 [DBG] The request is a preflight request.
2025-03-30 15:44:52.179 -05:00 [DBG] Connection id "0HNBFP260LD4K" completed keep alive response.
2025-03-30 15:44:52.179 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto/1 - 204 null null 4.0843ms
2025-03-30 15:44:52.181 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5001/v1/es/producto/1 - application/json null
2025-03-30 15:44:52.181 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto/1'
2025-03-30 15:44:52.182 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Eliminar (es-producto)' with route pattern 'v1/es/producto/{id}' is valid for the request path '/v1/es/producto/1'
2025-03-30 15:44:52.182 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Eliminar (es-producto)'
2025-03-30 15:44:52.183 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:44:52.183 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:44:52.183 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:44:52.184 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:44:52.184 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:44:52.184 -05:00 [DBG] Authorization was successful.
2025-03-30 15:44:52.185 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Eliminar (es-producto)'
2025-03-30 15:44:52.190 -05:00 [INF] Route matched with {action = "Eliminar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Eliminar(Int32) on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:44:52.190 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:44:52.191 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-30 15:44:52.191 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:44:52.191 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:44:52.191 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:44:52.192 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:44:52.192 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:44:52.192 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-03-30 15:44:52.193 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-03-30 15:44:52.195 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-03-30 15:44:52.195 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-03-30 15:44:52.195 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-03-30 15:44:52.196 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-03-30 15:44:52.197 -05:00 [INF] Inicia capacidad de Eliminar - CONTROLLER
2025-03-30 15:44:52.198 -05:00 [INF] Inicia metodo de Eliminar - SERVICE
2025-03-30 15:44:52.199 -05:00 [INF] Inicia metodo de ConsultarPorId - REPOSITORY
2025-03-30 15:44:52.200 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:44:52.211 -05:00 [DBG] Compiling query expression: 
'DbSet<ProductoDTO>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-03-30 15:44:52.306 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ProductoDTO>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ProductoDTO>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductoDTO.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductoDTO.Descripcion (string) Required, 1], [Property: ProductoDTO.Estado (string) Required, 2], [Property: ProductoDTO.FechaCreacion (DateTime) Required, 3], [Property: ProductoDTO.FechaModificacion (DateTime?), 4], [Property: ProductoDTO.Nombre (string) Required, 5], [Property: ProductoDTO.Sku (string) Required, 6], [Property: ProductoDTO.UsuarioCreacionId (int) Required, 7], [Property: ProductoDTO.UsuarioModificacionId (int?), 8] }
            SELECT TOP(1) t.id, t.descripcion, t.estado, t.fecha_creacion, t.fecha_modificacion, t.nombre, t.sku, t.usuario_creacion_id, t.usuario_modificacion_id
            FROM tbl_producto AS t
            WHERE t.id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductoDTO.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductoDTO.Descripcion (string) Required, 1], [Property: ProductoDTO.Estado (string) Required, 2], [Property: ProductoDTO.FechaCreacion (DateTime) Required, 3], [Property: ProductoDTO.FechaModificacion (DateTime?), 4], [Property: ProductoDTO.Nombre (string) Required, 5], [Property: ProductoDTO.Sku (string) Required, 6], [Property: ProductoDTO.UsuarioCreacionId (int) Required, 7], [Property: ProductoDTO.UsuarioModificacionId (int?), 8] }
            SELECT TOP(1) t.id, t.descripcion, t.estado, t.fecha_creacion, t.fecha_modificacion, t.nombre, t.sku, t.usuario_creacion_id, t.usuario_modificacion_id
            FROM tbl_producto AS t
            WHERE t.id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ProductoDTO entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ProductoDTO instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ProductoDTO);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ProductoDTO.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("es_producto.Repository.Model.ProductoDTO").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ProductoDTO)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ProductoDTO | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("es_producto.Repository.Model.ProductoDTO")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ProductoDTO | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("es_producto.Repository.Model.ProductoDTO")]: 
                            {
                                return 
                                {
                                    ProductoDTO instance;
                                    instance = new ProductoDTO();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Descripcion>k__BackingField = dataReader.GetString(1);
                                    instance.<Estado>k__BackingField = dataReader.GetString(2);
                                    instance.<FechaCreacion>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<FechaModificacion>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<Nombre>k__BackingField = dataReader.GetString(5);
                                    instance.<Sku>k__BackingField = dataReader.GetString(6);
                                    instance.<UsuarioCreacionId>k__BackingField = dataReader.GetInt32(7);
                                    instance.<UsuarioModificacionId>k__BackingField = dataReader.IsDBNull(8) ? default(int?) : (int?)dataReader.GetInt32(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ProductoDTO | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("es_producto.Repository.Model.ProductoDTO")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ProductoDTO)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: es_producto.Repository.Db.Context, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-30 15:44:52.369 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:44:52.369 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:44:52.369 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.370 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.370 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:44:52.370 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:52.371 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:52.371 -05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[id] = @__p_0
2025-03-30 15:44:52.374 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[id] = @__p_0
2025-03-30 15:44:52.375 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:44:52.375 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.375 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 0ms reading results.
2025-03-30 15:44:52.376 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.376 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:44:52.377 -05:00 [INF] Finaliza metodo de ConsultarPorId - REPOSITORY
2025-03-30 15:44:52.378 -05:00 [INF] Inicia metodo de Eliminar - REPOSITORY
2025-03-30 15:44:52.378 -05:00 [DBG] SaveChanges starting for 'Context'.
2025-03-30 15:44:52.378 -05:00 [DBG] DetectChanges starting for 'Context'.
2025-03-30 15:44:52.379 -05:00 [DBG] The unchanged property 'ProductoDTO.Estado' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-30 15:44:52.379 -05:00 [DBG] An entity of type 'ProductoDTO' tracked by 'Context' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:44:52.379 -05:00 [DBG] DetectChanges completed for 'Context'.
2025-03-30 15:44:52.380 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.380 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.380 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:44:52.380 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:52.380 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:52.381 -05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 1) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [tbl_producto] SET [estado] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-03-30 15:44:52.389 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 1) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [tbl_producto] SET [estado] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-03-30 15:44:52.390 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.390 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 0ms reading results.
2025-03-30 15:44:52.390 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.390 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:44:52.390 -05:00 [DBG] An entity of type 'ProductoDTO' tracked by 'Context' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:44:52.391 -05:00 [DBG] SaveChanges completed for 'Context' with 1 entities written to the database.
2025-03-30 15:44:52.391 -05:00 [INF] Finaliza metodo de Eliminar - REPOSITORY
2025-03-30 15:44:52.391 -05:00 [INF] Finaliza metodo de Eliminar - SERVICE
2025-03-30 15:44:52.392 -05:00 [INF] Finaliza Capacidad de Eliminar - CONTROLLER
2025-03-30 15:44:52.393 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:44:52.393 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:44:52.393 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:44:52.393 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:44:52.393 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-03-30 15:44:52.394 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Eliminar (es-producto) in 201.9746ms
2025-03-30 15:44:52.394 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Eliminar (es-producto)'
2025-03-30 15:44:52.394 -05:00 [DBG] Connection id "0HNBFP260LD4K" completed keep alive response.
2025-03-30 15:44:52.394 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:44:52.394 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.394 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:44:52.395 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5001/v1/es/producto/1 - 200 null application/json; charset=utf-8 213.5413ms
2025-03-30 15:44:52.399 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - null null
2025-03-30 15:44:52.399 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:44:52.399 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 15:44:52.400 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:44:52.400 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:44:52.400 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:44:52.400 -05:00 [DBG] The request is a preflight request.
2025-03-30 15:44:52.401 -05:00 [DBG] Connection id "0HNBFP260LD4K" completed keep alive response.
2025-03-30 15:44:52.401 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - 204 null null 1.8936ms
2025-03-30 15:44:52.402 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/v1/es/producto - application/json null
2025-03-30 15:44:52.403 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 15:44:52.403 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 15:44:52.403 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:44:52.404 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:44:52.404 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:44:52.404 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:44:52.404 -05:00 [DBG] Successfully validated the token.
2025-03-30 15:44:52.405 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 15:44:52.405 -05:00 [DBG] Authorization was successful.
2025-03-30 15:44:52.405 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:44:52.405 -05:00 [INF] Route matched with {action = "Consultar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Consultar() on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 15:44:52.405 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:44:52.406 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-30 15:44:52.406 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:44:52.406 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:44:52.406 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:44:52.406 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:44:52.407 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 15:44:52.407 -05:00 [INF] Inicia capacidad de Eliminar - Consultar
2025-03-30 15:44:52.408 -05:00 [INF] Inicia metodo de Consultar - SERVICE
2025-03-30 15:44:52.408 -05:00 [INF] Inicia metodo de Consultar - REPOSITORY
2025-03-30 15:44:52.408 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:44:52.409 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:44:52.409 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:44:52.409 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.409 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.410 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:44:52.410 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:52.410 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:44:52.410 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:44:52.412 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 15:44:52.412 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.412 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 0ms reading results.
2025-03-30 15:44:52.412 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.413 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:44:52.413 -05:00 [INF] Finaliza metodo de Consultar - REPOSITORY
2025-03-30 15:44:52.413 -05:00 [INF] Finaliza metodo de Consultar - SERVICE
2025-03-30 15:44:52.413 -05:00 [INF] Finaliza Capacidad de Consultar - CONTROLLER
2025-03-30 15:44:52.413 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:44:52.414 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:44:52.414 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:44:52.414 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:44:52.414 -05:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[es_producto.Controllers.Type.ProductoType, es-producto, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-30 15:44:52.414 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto) in 7.9775ms
2025-03-30 15:44:52.415 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 15:44:52.415 -05:00 [DBG] Connection id "0HNBFP260LD4K" completed keep alive response.
2025-03-30 15:44:52.415 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:44:52.415 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:44:52.415 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:44:52.416 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/v1/es/producto - 200 null application/json; charset=utf-8 13.2638ms
2025-03-30 15:47:03.329 -05:00 [DBG] Connection id "0HNBFP260LD4K" disconnecting.
2025-03-30 15:47:03.330 -05:00 [DBG] Connection id "0HNBFP260LD4K" stopped.
2025-03-30 15:47:03.330 -05:00 [DBG] Connection id "0HNBFP260LD4K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-30 16:23:13.510 -05:00 [DBG] Connection id "0HNBFP260LD4L" accepted.
2025-03-30 16:23:13.511 -05:00 [DBG] Connection id "0HNBFP260LD4L" started.
2025-03-30 16:23:13.513 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - null null
2025-03-30 16:23:13.514 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 16:23:13.514 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 16:23:13.515 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 16:23:13.515 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 16:23:13.516 -05:00 [INF] CORS policy execution successful.
2025-03-30 16:23:13.516 -05:00 [DBG] The request is a preflight request.
2025-03-30 16:23:13.518 -05:00 [DBG] Connection id "0HNBFP260LD4L" completed keep alive response.
2025-03-30 16:23:13.518 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - 204 null null 5.6211ms
2025-03-30 16:23:13.520 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/v1/es/producto - application/json null
2025-03-30 16:23:13.520 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 16:23:13.521 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 16:23:13.521 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 16:23:13.522 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 16:23:13.522 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 16:23:13.522 -05:00 [INF] CORS policy execution successful.
2025-03-30 16:23:13.595 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-03-30 20 Minute Minute:  50', Current time (UTC): '2025-03-30 21 Minute Minute:  23'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-30 16:23:13.627 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-03-30 20 Minute Minute:  50', Current time (UTC): '2025-03-30 21 Minute Minute:  23'.
2025-03-30 16:23:13.681 -05:00 [DBG] Policy authentication schemes  did not succeed
2025-03-30 16:23:13.682 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-30 16:23:13.687 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-30 16:23:13.687 -05:00 [DBG] Connection id "0HNBFP260LD4L" completed keep alive response.
2025-03-30 16:23:13.688 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/v1/es/producto - 401 0 null 167.5359ms
2025-03-30 16:23:23.127 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - null null
2025-03-30 16:23:23.128 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 16:23:23.128 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 16:23:23.128 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 16:23:23.129 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 16:23:23.129 -05:00 [INF] CORS policy execution successful.
2025-03-30 16:23:23.129 -05:00 [DBG] The request is a preflight request.
2025-03-30 16:23:23.129 -05:00 [DBG] Connection id "0HNBFP260LD4L" completed keep alive response.
2025-03-30 16:23:23.130 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/v1/es/producto - 204 null null 2.1613ms
2025-03-30 16:23:23.131 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/v1/es/producto - application/json null
2025-03-30 16:23:23.131 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/es/producto'
2025-03-30 16:23:23.132 -05:00 [DBG] Endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)' with route pattern 'v1/es/producto' is valid for the request path '/v1/es/producto'
2025-03-30 16:23:23.132 -05:00 [DBG] Request matched endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 16:23:23.132 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 16:23:23.132 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 16:23:23.133 -05:00 [INF] CORS policy execution successful.
2025-03-30 16:23:23.133 -05:00 [DBG] Successfully validated the token.
2025-03-30 16:23:23.133 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-30 16:23:23.134 -05:00 [DBG] Authorization was successful.
2025-03-30 16:23:23.134 -05:00 [INF] Executing endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 16:23:23.135 -05:00 [INF] Route matched with {action = "Consultar", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Consultar() on controller es_producto.Controllers.Impl.ControllerImpl (es-producto).
2025-03-30 16:23:23.135 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 16:23:23.135 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-30 16:23:23.135 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 16:23:23.136 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 16:23:23.136 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 16:23:23.136 -05:00 [DBG] Executing controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 16:23:23.138 -05:00 [DBG] Executed controller factory for controller es_producto.Controllers.Impl.ControllerImpl (es-producto)
2025-03-30 16:23:23.138 -05:00 [INF] Inicia capacidad de Eliminar - Consultar
2025-03-30 16:23:23.138 -05:00 [INF] Inicia metodo de Consultar - SERVICE
2025-03-30 16:23:23.139 -05:00 [INF] Inicia metodo de Consultar - REPOSITORY
2025-03-30 16:23:23.141 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 16:23:23.143 -05:00 [DBG] Creating DbConnection.
2025-03-30 16:23:23.144 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 16:23:23.144 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.185 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.186 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 16:23:23.186 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 16:23:23.186 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 16:23:23.186 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 16:23:23.188 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[descripcion], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[sku], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_producto] AS [t]
WHERE [t].[estado] <> 'E'
2025-03-30 16:23:23.190 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 16:23:23.190 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 16:23:23.190 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 16:23:23.191 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 16:23:23.191 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 16:23:23.191 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 16:23:23.192 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 16:23:23.192 -05:00 [DBG] Context 'Context' started tracking 'ProductoDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 16:23:23.192 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.192 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 3ms reading results.
2025-03-30 16:23:23.193 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.193 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 16:23:23.193 -05:00 [INF] Finaliza metodo de Consultar - REPOSITORY
2025-03-30 16:23:23.193 -05:00 [INF] Finaliza metodo de Consultar - SERVICE
2025-03-30 16:23:23.194 -05:00 [INF] Finaliza Capacidad de Consultar - CONTROLLER
2025-03-30 16:23:23.194 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 16:23:23.194 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 16:23:23.195 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 16:23:23.195 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 16:23:23.195 -05:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[es_producto.Controllers.Type.ProductoType, es-producto, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-30 16:23:23.196 -05:00 [INF] Executed action es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto) in 59.7897ms
2025-03-30 16:23:23.196 -05:00 [INF] Executed endpoint 'es_producto.Controllers.Impl.ControllerImpl.Consultar (es-producto)'
2025-03-30 16:23:23.197 -05:00 [DBG] Connection id "0HNBFP260LD4L" completed keep alive response.
2025-03-30 16:23:23.197 -05:00 [DBG] 'Context' disposed.
2025-03-30 16:23:23.197 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.198 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 16:23:23.198 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/v1/es/producto - 200 null application/json; charset=utf-8 66.8367ms
2025-03-30 16:25:33.644 -05:00 [DBG] Connection id "0HNBFP260LD4L" disconnecting.
2025-03-30 16:25:33.645 -05:00 [DBG] Connection id "0HNBFP260LD4L" stopped.
2025-03-30 16:25:33.646 -05:00 [DBG] Connection id "0HNBFP260LD4L" sending FIN because: "The Socket transport's send loop completed gracefully."
