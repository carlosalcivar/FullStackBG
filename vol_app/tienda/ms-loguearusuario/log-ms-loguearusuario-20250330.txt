2025-03-30 15:20:57.241 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-30 15:20:57.363 -05:00 [DBG] Hosting starting
2025-03-30 15:20:57.531 -05:00 [INF] Now listening on: http://[::]:8080
2025-03-30 15:20:57.532 -05:00 [DBG] Loaded hosting startup assembly ms-loguearusuario
2025-03-30 15:20:57.532 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 15:20:57.533 -05:00 [INF] Hosting environment: Development
2025-03-30 15:20:57.533 -05:00 [INF] Content root path: /app
2025-03-30 15:20:57.534 -05:00 [DBG] Hosting started
2025-03-30 15:21:44.893 -05:00 [DBG] Connection id "0HNBFP1UQKC9M" accepted.
2025-03-30 15:21:44.894 -05:00 [DBG] Connection id "0HNBFP1UQKC9N" accepted.
2025-03-30 15:21:44.896 -05:00 [DBG] Connection id "0HNBFP1UQKC9N" started.
2025-03-30 15:21:44.896 -05:00 [DBG] Connection id "0HNBFP1UQKC9M" started.
2025-03-30 15:21:44.924 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/swagger/index.html - null null
2025-03-30 15:21:44.928 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-30 15:21:44.940 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-03-30 15:21:44.940 -05:00 [DBG] Request did not match any endpoints
2025-03-30 15:21:45.067 -05:00 [DBG] Connection id "0HNBFP1UQKC9M" completed keep alive response.
2025-03-30 15:21:45.069 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5002/swagger/index.html - 200 null text/html;charset=utf-8 146.2493ms
2025-03-30 15:21:45.239 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/swagger/v1/swagger.json - null null
2025-03-30 15:21:45.240 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-03-30 15:21:45.241 -05:00 [DBG] Request did not match any endpoints
2025-03-30 15:21:45.340 -05:00 [DBG] Connection id "0HNBFP1UQKC9M" completed keep alive response.
2025-03-30 15:21:45.341 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5002/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.8808ms
2025-03-30 15:21:56.842 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/v1/ms/loguearusuario/login - application/json 53
2025-03-30 15:21:56.846 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/ms/loguearusuario/login'
2025-03-30 15:21:56.848 -05:00 [DBG] Endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)' with route pattern 'v1/ms/loguearusuario/login' is valid for the request path '/v1/ms/loguearusuario/login'
2025-03-30 15:21:56.849 -05:00 [DBG] Request matched endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 15:21:56.851 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:21:56.851 -05:00 [DBG] The request has an origin header: 'http://localhost:5002'.
2025-03-30 15:21:56.852 -05:00 [INF] CORS policy execution failed.
2025-03-30 15:21:56.853 -05:00 [INF] Request origin http://localhost:5002 does not have permission to access the resource.
2025-03-30 15:21:56.854 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-30 15:21:56.856 -05:00 [INF] Executing endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 15:21:56.878 -05:00 [INF] Route matched with {action = "Login", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Login(ms_loguearusuario.Controllers.Type.RequestLoginType) on controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario).
2025-03-30 15:21:56.880 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:21:56.881 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-03-30 15:21:56.881 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:21:56.882 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:21:56.882 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:21:56.884 -05:00 [DBG] Executing controller factory for controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario)
2025-03-30 15:21:56.983 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-30 15:21:57.030 -05:00 [DBG] Executed controller factory for controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario)
2025-03-30 15:21:57.033 -05:00 [DBG] Attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' ...
2025-03-30 15:21:57.034 -05:00 [DBG] Attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' using the name '' in request data ...
2025-03-30 15:21:57.036 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-30 15:21:57.041 -05:00 [DBG] Connection id "0HNBFP1UQKC9M", Request id "0HNBFP1UQKC9M:00000003": started reading request body.
2025-03-30 15:21:57.041 -05:00 [DBG] Connection id "0HNBFP1UQKC9M", Request id "0HNBFP1UQKC9M:00000003": done reading request body.
2025-03-30 15:21:57.049 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'ms_loguearusuario.Controllers.Type.RequestLoginType'
2025-03-30 15:21:57.050 -05:00 [DBG] Done attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 15:21:57.050 -05:00 [DBG] Done attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 15:21:57.050 -05:00 [DBG] Attempting to validate the bound parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' ...
2025-03-30 15:21:57.054 -05:00 [DBG] Done attempting to validate the bound parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 15:21:57.056 -05:00 [INF] Inicia capacidad de Login - CONTROLLER
2025-03-30 15:21:57.062 -05:00 [INF] Inicia metodo de Login - SERVICE
2025-03-30 15:21:57.064 -05:00 [INF] Inicia metodo de ConsultarPorUsuario - REPOSITORY
2025-03-30 15:21:57.543 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:21:57.646 -05:00 [DBG] Compiling query expression: 
'DbSet<UsuarioDTO>()
    .Where(x => x.Usuario.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2025-03-30 15:21:57.963 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UsuarioDTO>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UsuarioDTO>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UsuarioDTO.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioDTO.Apellido (string) Required, 1], [Property: UsuarioDTO.Contrasena (string) Required, 2], [Property: UsuarioDTO.Email (string) Required, 3], [Property: UsuarioDTO.Estado (string) Required, 4], [Property: UsuarioDTO.FechaCreacion (DateTime) Required, 5], [Property: UsuarioDTO.FechaModificacion (DateTime?), 6], [Property: UsuarioDTO.Nombre (string) Required, 7], [Property: UsuarioDTO.Usuario (string) Required, 8], [Property: UsuarioDTO.UsuarioCreacionId (int) Required, 9], [Property: UsuarioDTO.UsuarioModificacionId (int?), 10] }
            SELECT TOP(1) t.id, t.apellido, t.contrasena, t.email, t.estado, t.fecha_creacion, t.fecha_modificacion, t.nombre, t.usuario, t.usuario_creacion_id, t.usuario_modificacion_id
            FROM tbl_usuario AS t
            WHERE LOWER(t.usuario) == @__ToLower_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UsuarioDTO.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioDTO.Apellido (string) Required, 1], [Property: UsuarioDTO.Contrasena (string) Required, 2], [Property: UsuarioDTO.Email (string) Required, 3], [Property: UsuarioDTO.Estado (string) Required, 4], [Property: UsuarioDTO.FechaCreacion (DateTime) Required, 5], [Property: UsuarioDTO.FechaModificacion (DateTime?), 6], [Property: UsuarioDTO.Nombre (string) Required, 7], [Property: UsuarioDTO.Usuario (string) Required, 8], [Property: UsuarioDTO.UsuarioCreacionId (int) Required, 9], [Property: UsuarioDTO.UsuarioModificacionId (int?), 10] }
            SELECT TOP(1) t.id, t.apellido, t.contrasena, t.email, t.estado, t.fecha_creacion, t.fecha_modificacion, t.nombre, t.usuario, t.usuario_creacion_id, t.usuario_modificacion_id
            FROM tbl_usuario AS t
            WHERE LOWER(t.usuario) == @__ToLower_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UsuarioDTO entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UsuarioDTO instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UsuarioDTO);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioDTO.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ms_loguearusuario.Repository.Model.UsuarioDTO").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UsuarioDTO)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UsuarioDTO | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ms_loguearusuario.Repository.Model.UsuarioDTO")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioDTO | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ms_loguearusuario.Repository.Model.UsuarioDTO")]: 
                            {
                                return 
                                {
                                    UsuarioDTO instance;
                                    instance = new UsuarioDTO();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Apellido>k__BackingField = dataReader.GetString(1);
                                    instance.<Contrasena>k__BackingField = dataReader.GetString(2);
                                    instance.<Email>k__BackingField = dataReader.GetString(3);
                                    instance.<Estado>k__BackingField = dataReader.GetString(4);
                                    instance.<FechaCreacion>k__BackingField = dataReader.GetDateTime(5);
                                    instance.<FechaModificacion>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<Nombre>k__BackingField = dataReader.GetString(7);
                                    instance.<Usuario>k__BackingField = dataReader.GetString(8);
                                    instance.<UsuarioCreacionId>k__BackingField = dataReader.GetInt32(9);
                                    instance.<UsuarioModificacionId>k__BackingField = dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioDTO | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ms_loguearusuario.Repository.Model.UsuarioDTO")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioDTO)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ms_loguearusuario.Repository.Db.Context, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-30 15:21:58.044 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:21:58.058 -05:00 [DBG] Created DbConnection. (13ms).
2025-03-30 15:21:58.060 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:21:58.355 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:21:58.357 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:21:58.362 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-03-30 15:21:58.366 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-03-30 15:21:58.370 -05:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[apellido], [t].[contrasena], [t].[email], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[usuario], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_usuario] AS [t]
WHERE LOWER([t].[usuario]) = @__ToLower_0
2025-03-30 15:21:58.467 -05:00 [INF] Executed DbCommand (97ms) [Parameters=[@__ToLower_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[apellido], [t].[contrasena], [t].[email], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[usuario], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_usuario] AS [t]
WHERE LOWER([t].[usuario]) = @__ToLower_0
2025-03-30 15:21:58.530 -05:00 [DBG] Context 'Context' started tracking 'UsuarioDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:21:58.552 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:21:58.557 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 86ms reading results.
2025-03-30 15:21:58.558 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:21:58.561 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (2ms).
2025-03-30 15:21:58.562 -05:00 [INF] Finaliza metodo de ConsultarPorUsuario - REPOSITORY
2025-03-30 15:21:58.635 -05:00 [INF] Finaliza metodo de Login - SERVICE
2025-03-30 15:21:58.636 -05:00 [INF] Finaliza Capacidad de Login - CONTROLLER
2025-03-30 15:21:58.638 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:21:58.640 -05:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-03-30 15:21:58.640 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:21:58.641 -05:00 [INF] Executing ObjectResult, writing value of type 'ms_loguearusuario.Controllers.Type.ResponseLoginType'.
2025-03-30 15:21:58.648 -05:00 [INF] Executed action ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario) in 1763.1675ms
2025-03-30 15:21:58.648 -05:00 [INF] Executed endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 15:21:58.649 -05:00 [DBG] Connection id "0HNBFP1UQKC9M" completed keep alive response.
2025-03-30 15:21:58.651 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:21:58.654 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:21:58.655 -05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-30 15:21:58.655 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5002/v1/ms/loguearusuario/login - 200 null application/json; charset=utf-8 1813.3341ms
2025-03-30 15:22:08.898 -05:00 [DBG] Connection id "0HNBFP1UQKC9O" accepted.
2025-03-30 15:22:08.899 -05:00 [DBG] Connection id "0HNBFP1UQKC9O" started.
2025-03-30 15:22:08.899 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5002/v1/ms/loguearusuario/login - null null
2025-03-30 15:22:08.900 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/ms/loguearusuario/login'
2025-03-30 15:22:08.900 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 15:22:08.900 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:22:08.901 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:22:08.902 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:22:08.902 -05:00 [DBG] The request is a preflight request.
2025-03-30 15:22:08.903 -05:00 [DBG] Connection id "0HNBFP1UQKC9O" completed keep alive response.
2025-03-30 15:22:08.904 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5002/v1/ms/loguearusuario/login - 204 null null 4.2928ms
2025-03-30 15:22:08.905 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/v1/ms/loguearusuario/login - application/json 44
2025-03-30 15:22:08.905 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/ms/loguearusuario/login'
2025-03-30 15:22:08.906 -05:00 [DBG] Endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)' with route pattern 'v1/ms/loguearusuario/login' is valid for the request path '/v1/ms/loguearusuario/login'
2025-03-30 15:22:08.906 -05:00 [DBG] Request matched endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 15:22:08.906 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:22:08.907 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:22:08.907 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:22:08.908 -05:00 [INF] Executing endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 15:22:08.908 -05:00 [INF] Route matched with {action = "Login", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Login(ms_loguearusuario.Controllers.Type.RequestLoginType) on controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario).
2025-03-30 15:22:08.908 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:22:08.909 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-03-30 15:22:08.909 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:22:08.909 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:22:08.910 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:22:08.910 -05:00 [DBG] Executing controller factory for controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario)
2025-03-30 15:22:08.911 -05:00 [DBG] Executed controller factory for controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario)
2025-03-30 15:22:08.912 -05:00 [DBG] Attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' ...
2025-03-30 15:22:08.912 -05:00 [DBG] Attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' using the name '' in request data ...
2025-03-30 15:22:08.913 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-30 15:22:08.913 -05:00 [DBG] Connection id "0HNBFP1UQKC9O", Request id "0HNBFP1UQKC9O:00000002": started reading request body.
2025-03-30 15:22:08.913 -05:00 [DBG] Connection id "0HNBFP1UQKC9O", Request id "0HNBFP1UQKC9O:00000002": done reading request body.
2025-03-30 15:22:08.914 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'ms_loguearusuario.Controllers.Type.RequestLoginType'
2025-03-30 15:22:08.914 -05:00 [DBG] Done attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 15:22:08.914 -05:00 [DBG] Done attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 15:22:08.914 -05:00 [DBG] Attempting to validate the bound parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' ...
2025-03-30 15:22:08.915 -05:00 [DBG] Done attempting to validate the bound parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 15:22:08.915 -05:00 [INF] Inicia capacidad de Login - CONTROLLER
2025-03-30 15:22:08.915 -05:00 [INF] Inicia metodo de Login - SERVICE
2025-03-30 15:22:08.916 -05:00 [INF] Inicia metodo de ConsultarPorUsuario - REPOSITORY
2025-03-30 15:22:08.953 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:22:08.956 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:22:08.956 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:22:08.957 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:08.958 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:08.958 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:22:08.958 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:22:08.959 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:22:08.959 -05:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[apellido], [t].[contrasena], [t].[email], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[usuario], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_usuario] AS [t]
WHERE LOWER([t].[usuario]) = @__ToLower_0
2025-03-30 15:22:08.961 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[apellido], [t].[contrasena], [t].[email], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[usuario], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_usuario] AS [t]
WHERE LOWER([t].[usuario]) = @__ToLower_0
2025-03-30 15:22:08.964 -05:00 [DBG] Context 'Context' started tracking 'UsuarioDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:22:08.965 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:08.965 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 3ms reading results.
2025-03-30 15:22:08.966 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:08.966 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:22:08.966 -05:00 [INF] Finaliza metodo de ConsultarPorUsuario - REPOSITORY
2025-03-30 15:22:08.967 -05:00 [INF] Finaliza metodo de Login - SERVICE
2025-03-30 15:22:08.967 -05:00 [INF] Finaliza Capacidad de Login - CONTROLLER
2025-03-30 15:22:08.968 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:22:08.969 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:22:08.969 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:22:08.970 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:22:08.970 -05:00 [INF] Executing ObjectResult, writing value of type 'ms_loguearusuario.Controllers.Type.ResponseLoginType'.
2025-03-30 15:22:08.971 -05:00 [INF] Executed action ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario) in 60.7397ms
2025-03-30 15:22:08.971 -05:00 [INF] Executed endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 15:22:08.972 -05:00 [DBG] Connection id "0HNBFP1UQKC9O" completed keep alive response.
2025-03-30 15:22:08.972 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:22:08.973 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:22:08.973 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:22:08.973 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5002/v1/ms/loguearusuario/login - 200 null application/json; charset=utf-8 67.9989ms
2025-03-30 15:23:22.723 -05:00 [DBG] Connection id "0HNBFP1UQKC9N" received FIN.
2025-03-30 15:23:22.725 -05:00 [DBG] Connection id "0HNBFP1UQKC9N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-30 15:23:22.729 -05:00 [DBG] Connection id "0HNBFP1UQKC9N" disconnecting.
2025-03-30 15:23:22.730 -05:00 [DBG] Connection id "0HNBFP1UQKC9N" stopped.
2025-03-30 15:24:09.556 -05:00 [DBG] Connection id "0HNBFP1UQKC9M" disconnecting.
2025-03-30 15:24:09.557 -05:00 [DBG] Connection id "0HNBFP1UQKC9M" stopped.
2025-03-30 15:24:09.560 -05:00 [DBG] Connection id "0HNBFP1UQKC9M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-30 15:24:20.557 -05:00 [DBG] Connection id "0HNBFP1UQKC9O" disconnecting.
2025-03-30 15:24:20.557 -05:00 [DBG] Connection id "0HNBFP1UQKC9O" stopped.
2025-03-30 15:24:20.558 -05:00 [DBG] Connection id "0HNBFP1UQKC9O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-30 15:40:49.466 -05:00 [DBG] Connection id "0HNBFP1UQKC9P" accepted.
2025-03-30 15:40:49.467 -05:00 [DBG] Connection id "0HNBFP1UQKC9P" started.
2025-03-30 15:40:49.469 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5002/v1/ms/loguearusuario/login - null null
2025-03-30 15:40:49.470 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/ms/loguearusuario/login'
2025-03-30 15:40:49.470 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 15:40:49.471 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:40:49.472 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:40:49.472 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:40:49.473 -05:00 [DBG] The request is a preflight request.
2025-03-30 15:40:49.474 -05:00 [DBG] Connection id "0HNBFP1UQKC9P" completed keep alive response.
2025-03-30 15:40:49.475 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5002/v1/ms/loguearusuario/login - 204 null null 5.4405ms
2025-03-30 15:40:49.478 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/v1/ms/loguearusuario/login - application/json 45
2025-03-30 15:40:49.479 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/ms/loguearusuario/login'
2025-03-30 15:40:49.479 -05:00 [DBG] Endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)' with route pattern 'v1/ms/loguearusuario/login' is valid for the request path '/v1/ms/loguearusuario/login'
2025-03-30 15:40:49.479 -05:00 [DBG] Request matched endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 15:40:49.479 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 15:40:49.480 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 15:40:49.480 -05:00 [INF] CORS policy execution successful.
2025-03-30 15:40:49.481 -05:00 [INF] Executing endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 15:40:49.482 -05:00 [INF] Route matched with {action = "Login", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Login(ms_loguearusuario.Controllers.Type.RequestLoginType) on controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario).
2025-03-30 15:40:49.483 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 15:40:49.483 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-03-30 15:40:49.483 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 15:40:49.483 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 15:40:49.484 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 15:40:49.484 -05:00 [DBG] Executing controller factory for controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario)
2025-03-30 15:40:49.488 -05:00 [DBG] Executed controller factory for controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario)
2025-03-30 15:40:49.488 -05:00 [DBG] Attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' ...
2025-03-30 15:40:49.489 -05:00 [DBG] Attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' using the name '' in request data ...
2025-03-30 15:40:49.489 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-30 15:40:49.490 -05:00 [DBG] Connection id "0HNBFP1UQKC9P", Request id "0HNBFP1UQKC9P:00000002": started reading request body.
2025-03-30 15:40:49.490 -05:00 [DBG] Connection id "0HNBFP1UQKC9P", Request id "0HNBFP1UQKC9P:00000002": done reading request body.
2025-03-30 15:40:49.490 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'ms_loguearusuario.Controllers.Type.RequestLoginType'
2025-03-30 15:40:49.490 -05:00 [DBG] Done attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 15:40:49.491 -05:00 [DBG] Done attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 15:40:49.491 -05:00 [DBG] Attempting to validate the bound parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' ...
2025-03-30 15:40:49.492 -05:00 [DBG] Done attempting to validate the bound parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 15:40:49.492 -05:00 [INF] Inicia capacidad de Login - CONTROLLER
2025-03-30 15:40:49.492 -05:00 [INF] Inicia metodo de Login - SERVICE
2025-03-30 15:40:49.492 -05:00 [INF] Inicia metodo de ConsultarPorUsuario - REPOSITORY
2025-03-30 15:40:49.502 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 15:40:49.505 -05:00 [DBG] Creating DbConnection.
2025-03-30 15:40:49.506 -05:00 [DBG] Created DbConnection. (0ms).
2025-03-30 15:40:49.506 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.591 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.591 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 15:40:49.592 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:40:49.592 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-03-30 15:40:49.592 -05:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[apellido], [t].[contrasena], [t].[email], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[usuario], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_usuario] AS [t]
WHERE LOWER([t].[usuario]) = @__ToLower_0
2025-03-30 15:40:49.595 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[apellido], [t].[contrasena], [t].[email], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[usuario], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_usuario] AS [t]
WHERE LOWER([t].[usuario]) = @__ToLower_0
2025-03-30 15:40:49.596 -05:00 [DBG] Context 'Context' started tracking 'UsuarioDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 15:40:49.596 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.597 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 1ms reading results.
2025-03-30 15:40:49.597 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.598 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 15:40:49.598 -05:00 [INF] Finaliza metodo de ConsultarPorUsuario - REPOSITORY
2025-03-30 15:40:49.599 -05:00 [INF] Finaliza metodo de Login - SERVICE
2025-03-30 15:40:49.600 -05:00 [INF] Finaliza Capacidad de Login - CONTROLLER
2025-03-30 15:40:49.600 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 15:40:49.600 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 15:40:49.600 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 15:40:49.601 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 15:40:49.601 -05:00 [INF] Executing ObjectResult, writing value of type 'ms_loguearusuario.Controllers.Type.ResponseLoginType'.
2025-03-30 15:40:49.601 -05:00 [INF] Executed action ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario) in 117.4373ms
2025-03-30 15:40:49.602 -05:00 [INF] Executed endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 15:40:49.602 -05:00 [DBG] Connection id "0HNBFP1UQKC9P" completed keep alive response.
2025-03-30 15:40:49.602 -05:00 [DBG] 'Context' disposed.
2025-03-30 15:40:49.602 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 15:40:49.603 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 15:40:49.603 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5002/v1/ms/loguearusuario/login - 200 null application/json; charset=utf-8 124.7605ms
2025-03-30 15:43:00.703 -05:00 [DBG] Connection id "0HNBFP1UQKC9P" disconnecting.
2025-03-30 15:43:00.704 -05:00 [DBG] Connection id "0HNBFP1UQKC9P" stopped.
2025-03-30 15:43:00.705 -05:00 [DBG] Connection id "0HNBFP1UQKC9P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-30 16:23:22.936 -05:00 [DBG] Connection id "0HNBFP1UQKC9Q" accepted.
2025-03-30 16:23:22.936 -05:00 [DBG] Connection id "0HNBFP1UQKC9Q" started.
2025-03-30 16:23:22.939 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5002/v1/ms/loguearusuario/login - null null
2025-03-30 16:23:22.940 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/ms/loguearusuario/login'
2025-03-30 16:23:22.941 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-30 16:23:22.942 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 16:23:22.942 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 16:23:22.943 -05:00 [INF] CORS policy execution successful.
2025-03-30 16:23:22.943 -05:00 [DBG] The request is a preflight request.
2025-03-30 16:23:22.944 -05:00 [DBG] Connection id "0HNBFP1UQKC9Q" completed keep alive response.
2025-03-30 16:23:22.945 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5002/v1/ms/loguearusuario/login - 204 null null 5.8025ms
2025-03-30 16:23:22.947 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/v1/ms/loguearusuario/login - application/json 45
2025-03-30 16:23:22.948 -05:00 [DBG] 1 candidate(s) found for the request path '/v1/ms/loguearusuario/login'
2025-03-30 16:23:22.948 -05:00 [DBG] Endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)' with route pattern 'v1/ms/loguearusuario/login' is valid for the request path '/v1/ms/loguearusuario/login'
2025-03-30 16:23:22.948 -05:00 [DBG] Request matched endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 16:23:22.949 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-30 16:23:22.949 -05:00 [DBG] The request has an origin header: 'http://localhost:5000'.
2025-03-30 16:23:22.950 -05:00 [INF] CORS policy execution successful.
2025-03-30 16:23:22.950 -05:00 [INF] Executing endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 16:23:22.952 -05:00 [INF] Route matched with {action = "Login", controller = "ControllerImpl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] Login(ms_loguearusuario.Controllers.Type.RequestLoginType) on controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario).
2025-03-30 16:23:22.952 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-30 16:23:22.952 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-03-30 16:23:22.953 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-30 16:23:22.953 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-30 16:23:22.953 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-03-30 16:23:22.954 -05:00 [DBG] Executing controller factory for controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario)
2025-03-30 16:23:22.957 -05:00 [DBG] Executed controller factory for controller ms_loguearusuario.Controllers.Impl.ControllerImpl (ms-loguearusuario)
2025-03-30 16:23:22.958 -05:00 [DBG] Attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' ...
2025-03-30 16:23:22.959 -05:00 [DBG] Attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' using the name '' in request data ...
2025-03-30 16:23:22.959 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-30 16:23:22.960 -05:00 [DBG] Connection id "0HNBFP1UQKC9Q", Request id "0HNBFP1UQKC9Q:00000002": started reading request body.
2025-03-30 16:23:22.979 -05:00 [DBG] Connection id "0HNBFP1UQKC9Q", Request id "0HNBFP1UQKC9Q:00000002": done reading request body.
2025-03-30 16:23:22.980 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'ms_loguearusuario.Controllers.Type.RequestLoginType'
2025-03-30 16:23:22.981 -05:00 [DBG] Done attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 16:23:22.981 -05:00 [DBG] Done attempting to bind parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 16:23:22.981 -05:00 [DBG] Attempting to validate the bound parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType' ...
2025-03-30 16:23:22.982 -05:00 [DBG] Done attempting to validate the bound parameter 'requestLoginType' of type 'ms_loguearusuario.Controllers.Type.RequestLoginType'.
2025-03-30 16:23:22.983 -05:00 [INF] Inicia capacidad de Login - CONTROLLER
2025-03-30 16:23:22.983 -05:00 [INF] Inicia metodo de Login - SERVICE
2025-03-30 16:23:22.983 -05:00 [INF] Inicia metodo de ConsultarPorUsuario - REPOSITORY
2025-03-30 16:23:22.989 -05:00 [DBG] Entity Framework Core 9.0.3 initialized 'Context' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.3' with options: EngineType=SqlServer 
2025-03-30 16:23:22.994 -05:00 [DBG] Creating DbConnection.
2025-03-30 16:23:22.995 -05:00 [DBG] Created DbConnection. (1ms).
2025-03-30 16:23:22.995 -05:00 [DBG] Opening connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.096 -05:00 [DBG] Opened connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.097 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-30 16:23:23.097 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-30 16:23:23.098 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-30 16:23:23.099 -05:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[apellido], [t].[contrasena], [t].[email], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[usuario], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_usuario] AS [t]
WHERE LOWER([t].[usuario]) = @__ToLower_0
2025-03-30 16:23:23.109 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[apellido], [t].[contrasena], [t].[email], [t].[estado], [t].[fecha_creacion], [t].[fecha_modificacion], [t].[nombre], [t].[usuario], [t].[usuario_creacion_id], [t].[usuario_modificacion_id]
FROM [tbl_usuario] AS [t]
WHERE LOWER([t].[usuario]) = @__ToLower_0
2025-03-30 16:23:23.111 -05:00 [DBG] Context 'Context' started tracking 'UsuarioDTO' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-30 16:23:23.112 -05:00 [DBG] Closing data reader to 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.113 -05:00 [DBG] A data reader for 'tienda_db' on server 'tienda_db,1433' is being disposed after spending 2ms reading results.
2025-03-30 16:23:23.113 -05:00 [DBG] Closing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.113 -05:00 [DBG] Closed connection to database 'tienda_db' on server 'tienda_db,1433' (0ms).
2025-03-30 16:23:23.113 -05:00 [INF] Finaliza metodo de ConsultarPorUsuario - REPOSITORY
2025-03-30 16:23:23.115 -05:00 [INF] Finaliza metodo de Login - SERVICE
2025-03-30 16:23:23.116 -05:00 [INF] Finaliza Capacidad de Login - CONTROLLER
2025-03-30 16:23:23.116 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-30 16:23:23.117 -05:00 [DBG] No information found on request to perform content negotiation.
2025-03-30 16:23:23.117 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-03-30 16:23:23.117 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-30 16:23:23.117 -05:00 [INF] Executing ObjectResult, writing value of type 'ms_loguearusuario.Controllers.Type.ResponseLoginType'.
2025-03-30 16:23:23.118 -05:00 [INF] Executed action ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario) in 164.632ms
2025-03-30 16:23:23.118 -05:00 [INF] Executed endpoint 'ms_loguearusuario.Controllers.Impl.ControllerImpl.Login (ms-loguearusuario)'
2025-03-30 16:23:23.119 -05:00 [DBG] Connection id "0HNBFP1UQKC9Q" completed keep alive response.
2025-03-30 16:23:23.119 -05:00 [DBG] 'Context' disposed.
2025-03-30 16:23:23.119 -05:00 [DBG] Disposing connection to database 'tienda_db' on server 'tienda_db,1433'.
2025-03-30 16:23:23.120 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-30 16:23:23.120 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5002/v1/ms/loguearusuario/login - 200 null application/json; charset=utf-8 172.8276ms
2025-03-30 16:25:34.042 -05:00 [DBG] Connection id "0HNBFP1UQKC9Q" disconnecting.
2025-03-30 16:25:34.042 -05:00 [DBG] Connection id "0HNBFP1UQKC9Q" stopped.
2025-03-30 16:25:34.043 -05:00 [DBG] Connection id "0HNBFP1UQKC9Q" sending FIN because: "The Socket transport's send loop completed gracefully."
